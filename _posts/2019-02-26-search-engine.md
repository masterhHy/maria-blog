---
layout: post
title:  "搜索引擎背后原理"
date:   2019-02-26 11:10
categories: seo
type: SEO
permalink: /archivers/seo/searchEngine
---



## 背景

有一天你们公司突然分配给你一个任务：公司网站排名太靠后了，做一下seo，排到搜索内容的第一页去。你一脸懵逼：什么是seo？

你辛辛苦苦搭建了一个个人博客，还用心地为博客取了一个名字，结果你去搜索自己精心取的名字，居然，什么都没有？

你在百度上搜索了一个东西，结果前面几个全是广告，你很不喜欢，凡是广告立马跳过，终于找到了一个不是广告的链接，点进去一看，哎，怎么还是有点像广告？

如果你不知道seo，这些问题你永远不会得到答案。

现在seo无处不在，已经渗透到网络的方方面面，如果你是互联网工作者，如何让自己的网站脱颖而出？很简单，学习一下seo。

要学习seo，我们就必须先了解一下seo背后的搜索引擎的工作原理。

## 大纲

1. [蜘蛛](#spider)

2. [搜索排名流程](#process)

3. [抓取规则](#rule)

4. [抓取内容](#content)

4. [相关资源](#resource)

## <span id="spider">蜘蛛（spider）</span>

搜索引擎的内容非常多，那么这些内容是如何获取到的呢？是用”蜘蛛“。

#### **"蜘蛛"是什么？**

"蜘蛛"也叫爬虫，它不是真正的蜘蛛，而是一种抓取程序，它会顺着网页中的超链接，从一个网站爬到另外一个网页，通过超链接分析连续访问抓取更多的网页。蜘蛛会根据每个链接的网页快照将内容抓取并保存。

#### **蜘蛛看的是内容是什么？**

“蜘蛛”看的内容跟我们普通人看的内容不一样，它看的是网页的代码（**可以右键鼠标，然后点击网页源代码查看网页代码**）。

但是蜘蛛也不是什么都能看到，比如需要VIP才能看到的东西，蜘蛛是看不到的，所以蜘蛛本质上**就跟一个普通的用户差不多**。

## <span id="process">搜索排名流程</span>

#### **搜索引擎的排名流程是什么？**

以下这张图说明了抓取排名的流程：


![processImg][01]


步骤1：蜘蛛从索引区出发抓取网页，并将内容存放到临时库中

步骤2：在临时库中对数据内容进行筛选和过滤，主要过滤掉的内容有：无价值页面，死链接，欺骗性网页（文不对题误导用户的）。大大节省了搜索时间。

步骤3：将符合规则的内容放入索引区。内容多是质量比较高的页面。

步骤4：在索引区进行分类，归档，然后将收录结果排序，将排名结果返回给用户。


#### **收录和索引的区别是什么？**

平常说法：

* 索引：还在索引库中，质量比较高的页面。

* 收录：从索引库中放出来，可以参与排名的页面。

百度官方说法：

* 收录：页面被Baiduspider发现，分析过

* 索引：Baiduspider经过初步分析后认为有意义的网页，进行建库处理。

不管是平常说法还是官方说法，反正老板要求你优化的，一定是用户可以看见的页面，就是**可以参与排名的页面**。

#### **如何查看网页是否被收录？**

* 单个页面：可以直接百度一下页面网址

![shoulu][02]

* 整个网站：site:网址名（网址名不要http://等前缀）

![shoulu2][03]

#### **排名的规则是什么？**

排名的规则是根据搜索引擎的算法来决定的。不过任何排名都是建立在基础优化上的。基础优化包括：`网站定位`、`网站TDK`、`网站布局`、`网站内容`、`用户数据`、`外链推广`等等。这些也正是我们做seo优化的重点。后面会一一学习到。

#### **影响搜索结果排序的因素是什么？**

主要看网页的`相关性`，`权威性`，`时效性`，`重要性`，`丰富度`和`受欢迎程度`。如果网页跟你搜索的内容越契合，那么排名自然就会越靠前。

## <span id="rule">抓取规则</span>

蜘蛛抓取是通过链接来进行抓取的。遵循两种优先策略，一个是**深度优先策略**，一个是**广度优先策略**。

* 深度优先策略：深度抓取是一种纵向的抓取，会跟着链接一层一层地逐渐深入往下抓取。

* 广度优先策略：广度抓取是一种横向的抓取，会先将同一层的链接抓取完成之后，再根据每个链接去抓取下一层的所有链接。


一般蜘蛛在抓取时都是深度和广度结合起来进行的，主要目的就是为了让抓取速度变得更快。

#### **影响抓取的因素是什么？**

1. 需要权限的无法抓取（比如需要登录或者vip)

2. 网站打不开的无法抓取。一般网站打不开，有三个原因：服务器不稳定，404死链，网站被黑。
所以要定期检查是否有死链接，有死链接需要进行删除，不然会影响抓取和排名。

## <span id="content">抓取内容</span>

蜘蛛抓取的内容主要有：`链接`，`文字`，`图片`，`视频/flash`，`js`,`iframe框架`。

* 链接：是蜘蛛抓取的主要方式。

* 文字：文字是识别度最高的，如果要想更好地被抓取，就要在文字上面下功夫。

* 图片：图片主要是根据图片元素的alt属性进行抓取，不会读取整张图片。

* 其他：视频/flash,js,和iframe框架抓取到之后，蜘蛛是无法识别的。所以要做优化，不能在这些上面多浪费时间。


## <span id="resource">相关资源</span>

百度搜索引擎工作原理：[https://ziyuan.baidu.com/college/courseinfo?id=1388][04]

收录和索引的区别（官方说法） [https://ziyuan.baidu.com/college/articleinfo?id=806][05]

安装谷歌浏览器、谷歌插件    [https://pan.baidu.com/s/1fWcDD5tskwcfMbOr1b2mCQ][06]  提取码：6q6a


[01]:/image/searchEngine.png "搜索流程"
[02]:/image/shoulu1.png "收录单个页面"
[03]:/image/shoulu2.png "收录整个网站"
[04]:https://ziyuan.baidu.com/college/courseinfo?id=1388 "工作原理"
[05]:https://ziyuan.baidu.com/college/articleinfo?id=806 "收录和索引的区别"
[06]:https://pan.baidu.com/s/1fWcDD5tskwcfMbOr1b2mCQ "安装谷歌浏览器、谷歌插件"